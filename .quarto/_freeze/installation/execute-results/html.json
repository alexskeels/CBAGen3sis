{
  "hash": "87522e93a9afc35880c65a6c85874ce1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Installation and set up\"\nexecute: \n  eval: FALSE\n---\n\n\nThe first bottleneck for any workshop is getting the software installed and running on everyone's machine. So we'll spend a few minutes here making sure we're all good with installing and taking a look at some of teh data we'll be working with during the workshop, before moving on to the nitty gritty. So, lets start by installing the Gen3sis R package.\n\nYou can install the package directly from CRAN as follows.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"gen3sis\")\npackageVersion(\"gen3sis\")\n```\n:::\n\n\nToday we'll install the most recent version of the package from GitHub using devtools.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"devtools\")\ndevtools::install_github(repo = \"project-gen3sis/R-package\", dependencies = TRUE)\nlibrary(gen3sis)\npackageVersion(\"gen3sis\")\n```\n:::\n\n\nAll the data for the workshop is stored in the 'data' folder.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_dir <- \"data\"\n```\n:::\n\n\nIn this fodler we include a paleoenvironmental reconstruction of South American temperature and aridity at a coarse spatial resolution of 2 degrees, and at a temporal resolution of 1 million years. Load it in and investigate some of it's features.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read the R data file\nlandscape <- readRDS(file.path(data_dir,\"landscapes\", \"SA_coarse\", \"landscapes.rds\"))\n\n# class\nclass(landscape)\n\n# names\nnames(landscape)\n\n# dimensions\ndim(landscape$temp)\n\n# take a look at first elements\nlandscape$temp[1:10, 1:10]\n\n# column names\ncolnames(landscape$temp)\n```\n:::\n\n\nCoolies. We can use different spatial R packages to play with our data, and later on, with our simulated output. Parts of gen3sis package use raster, however this package is now depreciated, so we'll use terra except where stated. Ideally, you'll install both.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"terra\")\ninstall.packages(\"raster\")\n\nlibrary(terra)\n\n# Present Day South America\nSA_1 <- rast(landscape$temp[ ,c(\"x\", \"y\", \"1\")])\nSA_65 <- rast(landscape$temp[,c(\"x\", \"y\", \"65\")])\n\n# plot present day\nplot(SA_1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# plot 65 Million years ago\nplot(SA_65)\n```\n:::\n\n\nLets overlay the maps to get an idea of how much South America has changed since the dinosaurs went extinct.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# overlay\nplot(SA_65, col=rgb(1,0,0))\nplot(SA_1, col=rgb(0,0,1,0.5,1), add=T)\n```\n:::\n\n\nLoad in a config file containing the rules and parameters of a single simulation. We'll get into what this all means next chapter.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconfig_dir <- \"configs/SouthAmerica\"\nconfig <- create_input_config(config_file = file.path(config_dir, \"config_southamerica.R\"))\nnames(config$gen3sis)\nnames(config$gen3sis$general)\n```\n:::\n\n\nNow time to run a simulation in South America. We'll just run from 20 million years ago to the present-day at 1 million year intervals so it runs quick enough to finish in a couple of minutes. Note the output as it runs. Think about what its printing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsim <- run_simulation(config = file.path(config_dir, \"config_southamerica.R\"), \n               landscape = file.path(data_dir,\"landscapes\", \"SA_coarse\"),\n               output_directory = \"output/SouthAmerica\",\n               verbose=1)\n```\n:::\n\n\nIf you've made it this far, great! You're equipped with the tools, now we're ready to explore how Gen3sis works in more detail.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}